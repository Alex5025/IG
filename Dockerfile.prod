# 正式用 Dockerfile（runtime-only）
# 說明：假設你在 CI 或本機已經產生 jar（./gradlew bootJar 或 ./gradlew build），此檔僅複製 artifact 並執行
FROM eclipse-temurin:21-jre
WORKDIR /app
# 將已建置的 jar 複製進映像（確保在 docker build 前已產生 build/libs/*.jar）
COPY build/libs/*.jar /app/app.jar
# 預設使用 prod profile（不啟用 OpenAPI）
ENV SPRING_PROFILES_ACTIVE=prod
EXPOSE 8080
ENTRYPOINT ["java","-jar","/app/app.jar"]

